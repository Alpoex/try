
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Ëµ∞Ëø∑ÂÆÆÈÅäÊà≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        .tabs {
            display: flex;
            background: white;
            border-radius: 10px 10px 0 0;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .tab-button {
            flex: 1;
            padding: 15px 20px;
            background: #ecf0f1;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            background: #3498db;
            color: white;
        }

        .tab-button:hover {
            background: #2980b9;
            color: white;
        }

        .tab-content {
            background: white;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            min-height: 600px;
        }

        .tab-panel {
            display: none;
            padding: 30px;
        }

        .tab-panel.active {
            display: block;
        }

        .code-container {
            background: #2c3e50;
            color: #2ecc71;
            padding: 25px;
            border-radius: 10px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            max-height: 500px;
            overflow-y: auto;
        }

        .game-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .control-panel {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .control-panel h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #95a5a6;
            color: white;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .input-group {
            margin-top: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .input-row {
            display: flex;
            gap: 10px;
        }

        .input-row input {
            flex: 1;
            padding: 12px;
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            font-size: 1em;
        }

        .input-row input:focus {
            outline: none;
            border-color: #3498db;
        }

        .hint {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-top: 5px;
        }

        .console {
            background: #000;
            color: #2ecc71;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            height: 400px;
            overflow-y: auto;
            border: 2px solid #2c3e50;
        }

        .console-line {
            margin-bottom: 5px;
            white-space: pre-wrap;
        }

        .cursor {
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .waiting-message {
            text-align: center;
            color: #7f8c8d;
            padding: 60px 20px;
            font-size: 1.1em;
        }

        .instructions {
            margin-top: 30px;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #3498db;
        }

        .instructions h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .instructions-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .instructions ul {
            list-style: none;
        }

        .instructions li {
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .code-highlight {
            background: #ecf0f1;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #2c3e50;
        }

        @media (max-width: 768px) {
            .game-grid {
                grid-template-columns: 1fr;
            }
            
            .instructions-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>
                <span>üíª</span>
                Python Ëµ∞Ëø∑ÂÆÆÈÅäÊà≤
            </h1>
            <p>
            Â±ïÁ§∫ÂèäÂü∑Ë°åpythonÁ®ãÂºè
            </p>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-button active" onclick="switchTab('code')">Python ‰ª£Á¢º</button>
            <button class="tab-button" onclick="switchTab('game')">ÈÅäÊà≤Âü∑Ë°å</button>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
            <!-- Code Tab -->
            <div id="code-tab" class="tab-panel active">
                <h3 style="color: #2c3e50; margin-bottom: 20px; font-size: 1.5em;">ÂéüÂßã Python ‰ª£Á¢º</h3>
                <div class="code-container">
                    <pre id="python-code">fall=[['O']*5 for i in range(5)]
fan=[['O','O','O','O','O'], ['O','A','A','A','O'], ['A','A','O','A','O'], ['O','O','O','A','A'], ['O','O','O','O','O']]
fall[2][0] = 'A'
fa = 2
fb = 0
i = 0
o = 0
print('Ê≠°ËøéÂ§ßÂÆ∂‰æÜÂà∞Ëø∑ÂÆÆ')
print('AË°®Á§∫‰Ω†ÁöÑ‰ΩçÁΩÆÔºåOË°®Á§∫ÂèØËµ∞ÁöÑË∑Ø')
print('Ë¶ÅÊ≥®ÊÑèÂú®O‰πã‰∏≠Êúâ‰∫õÊòØ‰∏çËÉΩËµ∞ÁöÑÂñî')
print('Ëµ∞ÈåØÂ∞±ÊúÉÂõûÂà∞Ëµ∑Èªû')
while(i < 5):
    while(o < 5):
        print("%c"%fall[i][o],end=" ")
        o = o + 1
    o = 0
    i = i + 1
    print()
while(i != 1000):
    i = 0
    if(fa == 3 and fb == 4):
        break
    x=input("Ë´ãËº∏ÂÖ•Êåá‰ª§(w,s,d)")
    if(x == "w"):
        if(fall[fa][fb] == fan[fa-1][fb]):
            c = fall[fa][fb]
            fall[fa][fb] = fall[fa-1][fb]
            fall[fa-1][fb] = c
            fa = fa - 1
        else:
            print('Ëµ∞ÈåØ')
            c=fall[fa][fb]
            fall[fa][fb] = fall[2][0]
            fall[2][0] = c
            fa = 2
            fb = 0
    elif(x == "s"):
        if(fall[fa][fb] == fan[fa+1][fb]):
            c = fall[fa][fb]
            fall[fa][fb] = fall[fa+1][fb]
            fall[fa+1][fb] = c
            fa = fa + 1
        else:
            print('Ëµ∞ÈåØ')
            c = fall[fa][fb]
            fall[fa][fb] = fall[2][0]
            fall[2][0] = c
            fa = 2
            fb = 0
    elif(x == "d"):
        if(fall[fa][fb] == fan[fa][fb+1]):
            c = fall[fa][fb]
            fall[fa][fb] = fall[fa][fb+1]
            fall[fa][fb+1] = c
            fb = fb + 1
        else:
            print('Ëµ∞ÈåØ')
            c = fall[fa][fb]
            fall[fa][fb] = fall[2][0]
            fall[2][0] = c
            fa = 2
            fb = 0
    else:
        print('Ëº∏ÂÖ•ÈåØË™§')
    while(i < 5):
        while(o < 5):
            print("%c"%fall[i][o],end=" ")
            o = o + 1
        o = 0
        i = i + 1
        print()
print('ÊÅ≠Âñú‰Ω†Ëµ∞Âà∞ÁµÇÈªû')</pre>
                </div>
            </div>

            <!-- Game Tab -->
            <div id="game-tab" class="tab-panel">
                <div class="game-grid">
                    <!-- Control Panel -->
                    <div class="control-panel">
                        <h3>üéÆ ÈÅäÊà≤ÊéßÂà∂</h3>
                        <div class="button-group">
                            <button class="btn btn-primary" onclick="runGame()" id="run-btn">
                                ‚ñ∂Ô∏è Âü∑Ë°åÈÅäÊà≤
                            </button>
                            <button class="btn btn-secondary" onclick="resetGame()">
                                üîÑ ÈáçÁΩÆ
                            </button>
                        </div>

                        <div class="input-group" id="input-section" style="display: none;">
                            <label>Ë´ãËº∏ÂÖ•Êåá‰ª§(w,s,d):</label>
                            <div class="input-row">
                                <input type="text" id="user-input" placeholder="Ëº∏ÂÖ• w, s, Êàñ d" maxlength="1">
                                <button class="btn btn-primary" onclick="submitInput()">ÈÄÅÂá∫</button>
                            </div>
                            <div class="hint">w=‰∏ä, s=‰∏ã, d=Âè≥</div>
                        </div>

                        <div class="waiting-message" id="waiting-message">
                            ÈªûÊìä "Âü∑Ë°åÈÅäÊà≤" ÈñãÂßãÁé©Ëø∑ÂÆÆÈÅäÊà≤
                        </div>
                    </div>
                    <!-- Console -->
                    <div class="control-panel">
                        <h3>üñ•Ô∏è Python Ëº∏Âá∫ÊéßÂà∂Âè∞</h3>
                        <div class="console" id="console">
                            <div class="console-line" style="color: #7f8c8d;">Á≠âÂæÖÁ®ãÂºèÂü∑Ë°å...</div>
                        </div>
                    </div>
                </div>

                <!-- Instructions -->
                <div class="instructions">
                    <h4>üìñ ÈÅäÊà≤Ë™™Êòé</h4>
                    <div class="instructions-grid">
                        <div>
                            <h5 style="margin-bottom: 10px; color: #2c3e50;">ÊéßÂà∂Ë™™Êòé:</h5>
                            <ul>
                                <li><span class="code-highlight">w</span> - Âêë‰∏äÁßªÂãï</li>
                                <li><span class="code-highlight">s</span> - Âêë‰∏ãÁßªÂãï</li>
                                <li><span class="code-highlight">d</span> - ÂêëÂè≥ÁßªÂãï</li>
                            </ul>
                        </div>
                        <div>
                            <h5 style="margin-bottom: 10px; color: #2c3e50;">ÈÅäÊà≤Ë¶èÂâá:</h5>
                            <ul>
                                <li><span class="code-highlight">A</span> - ‰Ω†ÁöÑ‰ΩçÁΩÆ</li>
                                <li><span class="code-highlight">O</span> - ÂèØËµ∞ÁöÑË∑ØÊàñÁâÜÂ£Å</li>
                                <li>Ëµ∞ÈåØË∑ØÊúÉÂõûÂà∞Ëµ∑Èªû (2,0)</li>
                                <li>ÁõÆÊ®ôÊòØÂà∞ÈÅî‰ΩçÁΩÆ (3,4)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ÈÅäÊà≤ÁãÄÊÖã
        let gameState = null;
        let isRunning = false;
        let waitingForInput = false;

        // ÂàáÊèõÊ®ôÁ±§
        function switchTab(tabName) {
            // Èö±ËóèÊâÄÊúâÊ®ôÁ±§ÂÖßÂÆπ
            document.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            // ÁßªÈô§ÊâÄÊúâÊåâÈàïÁöÑactiveÈ°û
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // È°ØÁ§∫ÈÅ∏‰∏≠ÁöÑÊ®ôÁ±§
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
        }

        // ÂàùÂßãÂåñÈÅäÊà≤ÁãÄÊÖã
        function initializeGame() {
            const fall = Array(5).fill(null).map(() => Array(5).fill('O'));
            const fan = [
                ['O','O','O','O','O'], 
                ['O','A','A','A','O'], 
                ['A','A','O','A','O'], 
                ['O','O','O','A','A'], 
                ['O','O','O','O','O']
            ];
            fall[2][0] = 'A';
            
            return {
                fall: fall,
                fan: fan,
                fa: 2,
                fb: 0,
                gameWon: false
            };
        }

        // Ê∑ªÂä†Ëº∏Âá∫Âà∞ÊéßÂà∂Âè∞
        function addOutput(text) {
            const console = document.getElementById('console');
            const line = document.createElement('div');
            line.className = 'console-line';
            line.textContent = text;
            console.appendChild(line);
            console.scrollTop = console.scrollHeight;
        }

        // Ê∏ÖÁ©∫ÊéßÂà∂Âè∞
        function clearConsole() {
            document.getElementById('console').innerHTML = '';
        }

        // È°ØÁ§∫Ëø∑ÂÆÆ
        function displayMaze(maze) {
            for (let i = 0; i < 5; i++) {
                let row = '';
                for (let o = 0; o < 5; o++) {
                    row += maze[i][o] + ' ';
                }
                addOutput(row);
            }
        }

        // Âü∑Ë°åÈÅäÊà≤
        function runGame() {
            isRunning = true;
            clearConsole();
            gameState = initializeGame();
            
            document.getElementById('run-btn').disabled = true;
            document.getElementById('waiting-message').style.display = 'none';
            
            addOutput('Ê≠°ËøéÂ§ßÂÆ∂‰æÜÂà∞Ëø∑ÂÆÆ');
            addOutput('AË°®Á§∫‰Ω†ÁöÑ‰ΩçÁΩÆÔºåOË°®Á§∫ÂèØËµ∞ÁöÑË∑Ø');
            addOutput('Ë¶ÅÊ≥®ÊÑèÂú®O‰πã‰∏≠Êúâ‰∫õÊòØ‰∏çËÉΩËµ∞ÁöÑÂñî');
            addOutput('Ëµ∞ÈåØÂ∞±ÊúÉÂõûÂà∞Ëµ∑Èªû');
            addOutput('');
            
            displayMaze(gameState.fall);
            addOutput('');
            
            showInputPrompt();
        }

        // È°ØÁ§∫Ëº∏ÂÖ•ÊèêÁ§∫
        function showInputPrompt() {
            waitingForInput = true;
            document.getElementById('input-section').style.display = 'block';
            document.getElementById('user-input').focus();
            
            // Âú®ÊéßÂà∂Âè∞È°ØÁ§∫Ëº∏ÂÖ•ÊèêÁ§∫
            const console = document.getElementById('console');
            const promptLine = document.createElement('div');
            promptLine.className = 'console-line';
            promptLine.innerHTML = 'Ë´ãËº∏ÂÖ•Êåá‰ª§(w,s,d): <span class="cursor">‚ñà</span>';
            promptLine.id = 'input-prompt';
            console.appendChild(promptLine);
            console.scrollTop = console.scrollHeight;
        }

        // Èö±ËóèËº∏ÂÖ•ÊèêÁ§∫
        function hideInputPrompt() {
            waitingForInput = false;
            document.getElementById('input-section').style.display = 'none';
            const prompt = document.getElementById('input-prompt');
            if (prompt) {
                prompt.remove();
            }
        }

        // Êèê‰∫§Ëº∏ÂÖ•
        function submitInput() {
            if (!gameState || !waitingForInput) return;
            
            const input = document.getElementById('user-input').value.toLowerCase();
            document.getElementById('user-input').value = '';
            
            if (!input) return;
            
            addOutput('> ' + input);
            hideInputPrompt();
            
            processMove(input);
        }

        // ËôïÁêÜÁßªÂãï
        function processMove(x) {
            const newState = {...gameState};
            
            // Ê™¢Êü•ÊòØÂê¶Â∑≤Á∂ìÁç≤Âãù
            if (newState.fa === 3 && newState.fb === 4) {
                addOutput('ÊÅ≠Âñú‰Ω†Ëµ∞Âà∞ÁµÇÈªû');
                endGame();
                return;
            }
            
            if (x === 'w') {
                if (newState.fa > 0 && newState.fall[newState.fa][newState.fb] === newState.fan[newState.fa - 1][newState.fb]) {
                    // ÊúâÊïàÁßªÂãï
                    const c = newState.fall[newState.fa][newState.fb];
                    newState.fall[newState.fa][newState.fb] = newState.fall[newState.fa - 1][newState.fb];
                    newState.fall[newState.fa - 1][newState.fb] = c;
                    newState.fa = newState.fa - 1;
                } else {
                    addOutput('Ëµ∞ÈåØ');
                    resetPlayerPosition(newState);
                }
            } else if (x === 's') {
                if (newState.fa < 4 && newState.fall[newState.fa][newState.fb] === newState.fan[newState.fa + 1][newState.fb]) {
                    // ÊúâÊïàÁßªÂãï
                    const c = newState.fall[newState.fa][newState.fb];
                    newState.fall[newState.fa][newState.fb] = newState.fall[newState.fa + 1][newState.fb];
                    newState.fall[newState.fa + 1][newState.fb] = c;
                    newState.fa = newState.fa + 1;
                } else {
                    addOutput('Ëµ∞ÈåØ');
                    resetPlayerPosition(newState);
                }
            } else if (x === 'd') {
                if (newState.fb < 4 && newState.fall[newState.fa][newState.fb] === newState.fan[newState.fa][newState.fb + 1]) {
                    // ÊúâÊïàÁßªÂãï
                    const c = newState.fall[newState.fa][newState.fb];
                    newState.fall[newState.fa][newState.fb] = newState.fall[newState.fa][newState.fb + 1];
                    newState.fall[newState.fa][newState.fb + 1] = c;
                    newState.fb = newState.fb + 1;
                } else {
                    addOutput('Ëµ∞ÈåØ');
                    resetPlayerPosition(newState);
                }
            } else {
                addOutput('Ëº∏ÂÖ•ÈåØË™§');
            }
            
            addOutput('');
            displayMaze(newState.fall);
            addOutput('');
            
            gameState = newState;
            
            // Ê™¢Êü•Áç≤ÂãùÊ¢ù‰ª∂
            if (newState.fa === 3 && newState.fb === 4) {
                addOutput('ÊÅ≠Âñú‰Ω†Ëµ∞Âà∞ÁµÇÈªû');
                endGame();
            } else {
                showInputPrompt();
            }
        }

        // ÈáçÁΩÆÁé©ÂÆ∂‰ΩçÁΩÆ
        function resetPlayerPosition(state) {
            const c = state.fall[state.fa][state.fb];
            state.fall[state.fa][state.fb] = state.fall[2][0];
            state.fall[2][0] = c;
            state.fa = 2;
            state.fb = 0;
        }

        // ÁµêÊùüÈÅäÊà≤
        function endGame() {
            isRunning = false;
            waitingForInput = false;
            document.getElementById('run-btn').disabled = false;
            document.getElementById('input-section').style.display = 'none';
        }

        // ÈáçÁΩÆÈÅäÊà≤
        function resetGame() {
            isRunning = false;
            waitingForInput = false;
            gameState = null;
            
            clearConsole();
            addOutput('Á≠âÂæÖÁ®ãÂºèÂü∑Ë°å...');
            
            document.getElementById('run-btn').disabled = false;
            document.getElementById('input-section').style.display = 'none';
            document.getElementById('waiting-message').style.display = 'block';
            document.getElementById('user-input').value = '';
        }

        // ÈçµÁõ§‰∫ã‰ª∂ËôïÁêÜ
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter' && waitingForInput) {
                submitInput();
            }
        });

        // ÈôêÂà∂Ëº∏ÂÖ•Âè™ËÉΩÊòØ w, s, d
        document.getElementById('user-input').addEventListener('input', function(event) {
            const value = event.target.value.toLowerCase();
            if (value && !['w', 's', 'd'].includes(value)) {
                event.target.value = '';
            }
        });
    </script>
</body>
</html>